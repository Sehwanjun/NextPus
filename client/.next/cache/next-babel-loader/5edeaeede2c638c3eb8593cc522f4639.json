{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\arthu\\\\Documents\\\\nextpus_2020\\\\client\\\\components\\\\LoginForm.js\";\nvar __jsx = React.createElement;\nimport React, { useCallback, useEffect } from \"react\";\nimport { Form, Input } from \"antd\";\nimport Link from \"next/link\";\nimport styled from \"styled-components\";\nimport Router from \"next/router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useInput from \"../hooks/useinput\";\nimport { loginRequestAction } from \"../reducers/user\"; /// /////////// Styled Component //////////////////\n\nconst FormWrapper = styled(Form).withConfig({\n  displayName: \"LoginForm__FormWrapper\",\n  componentId: \"sc-184ko4u-0\"\n})([\"line-height:1.34;margin:0;padding:0;display:block;\"]);\nconst FormBox = styled.div.withConfig({\n  displayName: \"LoginForm__FormBox\",\n  componentId: \"sc-184ko4u-1\"\n})([\"font-size:17px;width:364px;display:inline-block;margin:auto;padding:6px 0;\"]);\nconst InputBox = styled(Input).withConfig({\n  displayName: \"LoginForm__InputBox\",\n  componentId: \"sc-184ko4u-2\"\n})([\"border-radius:6px;font-size:17px;padding:14px 16px;width:330px;background:#ffffff;border:1px solid #dddfe2;color:#1d2129;line-height:16px;vertical-align:middle;\"]);\nconst ButtonWrapper = styled.div.withConfig({\n  displayName: \"LoginForm__ButtonWrapper\",\n  componentId: \"sc-184ko4u-3\"\n})([\"padding-top:8px;\"]);\nconst LogInButton = styled.button.withConfig({\n  displayName: \"LoginForm__LogInButton\",\n  componentId: \"sc-184ko4u-4\"\n})([\"margin:0;background-color:#015cab;border:none;border-radius:6px;font-size:18px;line-height:48px;padding:0 16px;width:332px;cursor:pointer;display:inline-block;text-decoration:none;white-space:nowrap;font-weight:bold;color:#ffffff;transition:200ms cubic-bezier(0.08,0.52,0.52,1) background-color,200ms cubic-bezier(0.08,0.52,0.52,1) box-shadow,200ms cubic-bezier(0.08,0.52,0.52,1) transform;\"]);\nconst SignUpButton = styled(LogInButton).withConfig({\n  displayName: \"LoginForm__SignUpButton\",\n  componentId: \"sc-184ko4u-5\"\n})([\"background-color:#47a09e;font-size:16px;\"]); // const style= useMemo(()=>({marginTop: 10}),[]);\n// return(<Input.Search style={style}></Input.Search>)\n// 리랜더링 방지하면서 style 꾸밀수 있게끔\n\nconst LoginForm = () => {\n  const dispatch = useDispatch(); // 로그인을 위한 리덕스 연결고리\n  // initialstate >user > isloggedin(state.user: state.user.isLoggedin과 동일)\n  // 구조분해할당\n\n  const {\n    logInLoading,\n    logInError\n  } = useSelector(state => state.user); // hooks/useinput.js 활용(라이브러리 개념 hooks)\n\n  const [email, onChangeEmail] = useInput(\"\");\n  const [password, onChangePassword] = useInput(\"\"); // const [id, setId] = useState(\"\"); 8줄을 hooks로 줄임\n  // const onChangeId = useCallback(e => {\n  //   setId(e.target.value);\n  // }, []);\n  // const [password, setPassword] = useState(\"\");\n  // const onChangePassword = useCallback(e => {\n  //   setPassword(e.target.value);\n  // }, []);\n\n  useEffect(() => {\n    if (logInError) {\n      alert(logInError);\n    }\n  }, [logInError]);\n  const onSubmitForm = useCallback(() => {\n    // if (isloggedIn) {\n    //   Router.push(\"/main\");\n    // } else {\n    //   alert(\"로그인에 실패하였습니다.\");\n    // }\n    // if (isLoggedIn){\n    // dispatch(loginAction(id, password));\n    // console.log(id, password);\n    // Router.push(\"/main\")}else{alert(\"Login failure\")}\n    dispatch(loginRequestAction({\n      email,\n      password\n    }));\n    console.log(email, password);\n    Router.push(\"/main\");\n  }, [email, password]);\n  return (// onFinish: e.preventdefault 자동으로 설정되어 있음(antd)\n    __jsx(FormWrapper, {\n      onFinish: onSubmitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 5\n      }\n    }, __jsx(FormBox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }\n    }, __jsx(InputBox, {\n      name: \"user-email\",\n      placeholder: \"\\uC774\\uBA54\\uC77C\\uC8FC\\uC18C\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n      value: email,\n      type: \"email\",\n      onChange: onChangeEmail,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    })), __jsx(FormBox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 7\n      }\n    }, __jsx(InputBox, {\n      name: \"user-password\",\n      type: \"password\",\n      placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n      value: password,\n      onChange: onChangePassword,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    })), __jsx(ButtonWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }\n    }, __jsx(Link, {\n      href: \"/main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, __jsx(LogInButton // onClick={onSubmitForm}\n    , {\n      htmlType: \"submit\",\n      loading: logInLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, \"\\uB85C\\uADF8\\uC778\")))), __jsx(Link, {\n      href: \"/passwordfinder\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }\n    }, __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }\n    }, \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC78A\\uC73C\\uC168\\uB2E4\\uBA74?\"))), __jsx(ButtonWrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 7\n      }\n    }, __jsx(Link, {\n      href: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }\n    }, __jsx(SignUpButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }\n    }, \"\\uD68C\\uC6D0\\uAC00\\uC785\")))), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 7\n      }\n    }))\n  );\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/arthu/Documents/nextpus_2020/client/components/LoginForm.js"],"names":["React","useCallback","useEffect","Form","Input","Link","styled","Router","useDispatch","useSelector","useInput","loginRequestAction","FormWrapper","FormBox","div","InputBox","ButtonWrapper","LogInButton","button","SignUpButton","LoginForm","dispatch","logInLoading","logInError","state","user","email","onChangeEmail","password","onChangePassword","alert","onSubmitForm","console","log","push"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect } from \"react\";\r\nimport { Form, Input } from \"antd\";\r\nimport Link from \"next/link\";\r\nimport styled from \"styled-components\";\r\nimport Router from \"next/router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport useInput from \"../hooks/useinput\";\r\nimport { loginRequestAction } from \"../reducers/user\";\r\n\r\n/// /////////// Styled Component //////////////////\r\n\r\nconst FormWrapper = styled(Form)`\r\n  line-height: 1.34;\r\n  margin: 0;\r\n  padding: 0;\r\n  display: block;\r\n`;\r\n\r\nconst FormBox = styled.div`\r\n  font-size: 17px;\r\n  width: 364px;\r\n  display: inline-block;\r\n  margin: auto;\r\n  padding: 6px 0;\r\n`;\r\n\r\nconst InputBox = styled(Input)`\r\n  border-radius: 6px;\r\n  font-size: 17px;\r\n  padding: 14px 16px;\r\n  width: 330px;\r\n  background: #ffffff;\r\n  border: 1px solid #dddfe2;\r\n  color: #1d2129;\r\n  line-height: 16px;\r\n  vertical-align: middle;\r\n`;\r\n\r\nconst ButtonWrapper = styled.div`\r\n  padding-top: 8px;\r\n`;\r\n\r\nconst LogInButton = styled.button`\r\n  margin: 0;\r\n  background-color: #015cab;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 18px;\r\n  line-height: 48px;\r\n  padding: 0 16px;\r\n  width: 332px;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  text-decoration: none;\r\n  white-space: nowrap;\r\n  font-weight: bold;\r\n  color: #ffffff;\r\n  transition: 200ms cubic-bezier(0.08, 0.52, 0.52, 1) background-color,\r\n    200ms cubic-bezier(0.08, 0.52, 0.52, 1) box-shadow,\r\n    200ms cubic-bezier(0.08, 0.52, 0.52, 1) transform;\r\n`;\r\n\r\nconst SignUpButton = styled(LogInButton)`\r\n  background-color: #47a09e;\r\n  font-size: 16px;\r\n`;\r\n\r\n// const style= useMemo(()=>({marginTop: 10}),[]);\r\n// return(<Input.Search style={style}></Input.Search>)\r\n// 리랜더링 방지하면서 style 꾸밀수 있게끔\r\n\r\nconst LoginForm = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  // 로그인을 위한 리덕스 연결고리\r\n  // initialstate >user > isloggedin(state.user: state.user.isLoggedin과 동일)\r\n  // 구조분해할당\r\n  const { logInLoading, logInError } = useSelector(state => state.user);\r\n\r\n  // hooks/useinput.js 활용(라이브러리 개념 hooks)\r\n  const [email, onChangeEmail] = useInput(\"\");\r\n  const [password, onChangePassword] = useInput(\"\");\r\n  // const [id, setId] = useState(\"\"); 8줄을 hooks로 줄임\r\n  // const onChangeId = useCallback(e => {\r\n  //   setId(e.target.value);\r\n  // }, []);\r\n  // const [password, setPassword] = useState(\"\");\r\n  // const onChangePassword = useCallback(e => {\r\n  //   setPassword(e.target.value);\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    if (logInError) {\r\n      alert(logInError);\r\n    }\r\n  }, [logInError]);\r\n\r\n  const onSubmitForm = useCallback(() => {\r\n    // if (isloggedIn) {\r\n    //   Router.push(\"/main\");\r\n    // } else {\r\n    //   alert(\"로그인에 실패하였습니다.\");\r\n    // }\r\n    // if (isLoggedIn){\r\n    // dispatch(loginAction(id, password));\r\n    // console.log(id, password);\r\n    // Router.push(\"/main\")}else{alert(\"Login failure\")}\r\n    dispatch(\r\n      loginRequestAction({\r\n        email,\r\n        password,\r\n      })\r\n    );\r\n    console.log(email, password);\r\n    Router.push(\"/main\");\r\n  }, [email, password]);\r\n\r\n  return (\r\n    // onFinish: e.preventdefault 자동으로 설정되어 있음(antd)\r\n    <FormWrapper onFinish={onSubmitForm}>\r\n      <FormBox>\r\n        {/* <label htmlFor=\"user-id\">아이디</label>\r\n        <br /> */}\r\n        <InputBox\r\n          name=\"user-email\"\r\n          placeholder=\"이메일주소를 입력하세요.\"\r\n          value={email}\r\n          type=\"email\"\r\n          onChange={onChangeEmail}\r\n          required\r\n        />\r\n      </FormBox>\r\n      <FormBox>\r\n        {/* <label htmlFor=\"user-password\">비밀번호</label>\r\n        <br /> */}\r\n        <InputBox\r\n          name=\"user-password\"\r\n          type=\"password\"\r\n          placeholder=\"비밀번호를 입력하세요.\"\r\n          value={password}\r\n          onChange={onChangePassword}\r\n          required\r\n        />\r\n      </FormBox>\r\n      <ButtonWrapper>\r\n        <Link href=\"/main\">\r\n          <a>\r\n            <LogInButton\r\n              // onClick={onSubmitForm}\r\n              htmlType=\"submit\"\r\n              loading={logInLoading}\r\n            >\r\n              로그인\r\n            </LogInButton>\r\n          </a>\r\n        </Link>\r\n      </ButtonWrapper>\r\n      <Link href=\"/passwordfinder\">\r\n        <a>\r\n          <p>비밀번호를 잊으셨다면?</p>\r\n        </a>\r\n      </Link>\r\n      <ButtonWrapper>\r\n        <Link href=\"/signup\">\r\n          <a>\r\n            <SignUpButton>회원가입</SignUpButton>\r\n          </a>\r\n        </Link>\r\n      </ButtonWrapper>\r\n\r\n      <div />\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n"]},"metadata":{},"sourceType":"module"}